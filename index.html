<!DOCTYPE html>
<html>
<head>
	<title>Pomodoro</title>
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="styles.css">
</head>
<body>



<div class="container">
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-4">
      <div class="stem"></div>
      <div class="star-one"></div>
      <div class="star-two"></div>
      <div class="star-three"></div>
      <div class="dimple-one"></div>
      <div class="dimple-two"></div>
        <div id="tomato" class="pomodoro">
          <div id="mycounter"></div>
          <div id="breakCounter"></div>
        </div>
    </div>
      <div class="col-sm-4"></div>
  </div>
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-4">
          <button class="btn btn-sm btn-primary" onclick="onTimer(25)">Start </button>
    </div>
    <div class="col-sm-4"></div>
  </div>
</div>


<script>
var counter = 0;
var myTimer;
function startTimer(duration, display, whichTimer) {
  console.log(display)
    var timer = duration, minutes, seconds;
    myTimer = setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        display.textContent = minutes + ":" + seconds;

        if (--timer < 0) {
          if(whichTimer == 'work'){
            timer = duration;
            counter++;
            if (counter === 4){
              alert("Take 15 and start another set!");
              breakTimer(15);            
            }else{
              alert("Take Five!")
              breakTimer(5);            
            }
          }else{
            onTimer(25)
          }
        } 
    }, 1000);
}

function onTimer(t) {
    clearInterval(myTimer);  
    var fiveMinutes = 60 * t,
        display = document.querySelector('#mycounter');
        var tomato = document.getElementById('tomato');
          tomato.classList.value = "pomodoro";
    startTimer(fiveMinutes, display, 'work');
};

function breakTimer(t) {
  clearInterval(myTimer);
    var interval = 60 * t,
        display = document.querySelector('#mycounter');
          var tomato = document.getElementById('tomato');
          tomato.classList.value = "pomodoro-green";
          console.dir(tomato);
    startTimer(interval, display, 'break');
};

</script>

</body>
</html>